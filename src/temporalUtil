/*

const { data: me, status, isLoading } = useMe();
const { mutate: login, isError: loginError } = useLogin();
const { mutate: register, isError: registerError } = useRegister();
const [isAuth, setIsAuth] = useState(false);
const [isRegister, setIsRegister] = useState(false);
const token = localStorage.getItem("token") || null;

useEffect(() => {
  if (token) {
    setIsAuth(true);
  }
}, [token]);

useEffect(() => {
  if (status === "success") {
    setIsAuth(true);
  }
}, [status]);

const handleRegister = (e: React.FormEvent<HTMLFormElement>) => {
  e.preventDefault();

  const formData = new FormData(e.currentTarget);
  const data = {
    email: formData.get("email") as string,
    password: formData.get("password") as string,
  };
  register(data);
  if (!registerError) {
    setIsRegister(true);
  }
};

const handleLogin = (e: React.FormEvent<HTMLFormElement>) => {
  e.preventDefault();
  const formData = new FormData(e.currentTarget);
  const data = {
    email: formData.get("email") as string,
    password: formData.get("password") as string,
  };
  login(data);
  if (!loginError) {
    setIsAuth(true);
    setIsRegister(false);
  }
};

if (isLoading) {
  return <div>Loading...</div>;
}

if (isRegister) {
  return (
    <div>
      <h1>Login</h1>
      <form onSubmit={handleLogin}>
        <input type="text" placeholder="Email" name="email" />
        <input type="password" placeholder="Password" name="password" />
        <button
          type="submit"
          onClick={(e) => {
            return e;
          }}
        >
          Login
        </button>
      </form>
      <button onClick={() => setIsRegister(false)}>Register</button>
    </div>
  );
}

if (!isAuth) {
  return (
    <div>
      <h1>Register</h1>
      <form onSubmit={handleRegister}>
        <input type="text" placeholder="Email" name="email" />
        <input type="password" placeholder="Password" name="password" />
        <button
          type="submit"
          onClick={(e) => {
            return e;
          }}
        >
          Register
        </button>
      </form>
      <button onClick={() => setIsRegister(true)}>Login</button>
    </div>
  );
}

return (
  <div>
    <h1>Welcome</h1>
  </div>
);

*/
